<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="gmprocess.waveform_processing.snr" href="gmprocess.waveform_processing.snr.html" /><link rel="prev" title="gmprocess.waveform_processing.pretesting" href="gmprocess.waveform_processing.pretesting.html" />

    <meta name="generator" content="sphinx-3.4.0, furo 2020.12.28.beta22"/>
        <title>gmprocess.waveform_processing.processing - gmprocess 1.0.4 documentation</title>
      <link rel="stylesheet" href="../_static/styles/furo.css?digest=d315feae89b83a5365ff3ccc3644a1018972e3a0">
    <link rel="stylesheet" href="../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="../_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script defer="defer" src="../_static/jquery.js"></script>
    <script defer="defer" src="../_static/underscore.js"></script>
    <script defer="defer" src="../_static/doctools.js"></script>
    <script defer src="../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<div class="announcement">
  <aside class="announcement-content">
     <a href='https://github.com/usgs/groundmotion-processing' style='text-decoration: none'><h1>Ground-motion Processing Software</h1></a> 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">gmprocess 1.0.4 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/gmprocess_logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Objective</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html#motivation">Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html#target-use-cases">Target Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/workspace.html">Workspace</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/running.html">Running the code</a></li>
</ul>
<p class="caption"><span class="caption-text">Processing Steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../processing-steps/reading.html">Reading data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing-steps/retrieve.html">Retrieving data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing-steps/windowing.html">Windowing data</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../processing-steps/index.html">Waveform processing</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../processing-steps/waveform-processing.html">Waveform Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing-steps/waveform-processing/initial-qc.html">Initial quality control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing-steps/waveform-processing/remove-response.html">Removing instrument response</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing-steps/waveform-processing/phase-pickers.html">Phase pickers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing-steps/waveform-processing/baseline-correction.html">Baseline correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing-steps/waveform-processing/filtering.html">Filtering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../processing-steps/data-units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing-steps/waveform-metrics.html">Waveform metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing-steps/station-metrics.html">Station metrics</a></li>
</ul>
<p class="caption"><span class="caption-text">Using gmprocess</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gmprocess/gmprocess.html">The gmprocess command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gmprocess/reading.html">Reading data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gmprocess/waveform-processing.html">Waveform processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gmprocess/reports.html">Processing reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gmprocess/exporting.html">Exporting data</a></li>
</ul>
<p class="caption"><span class="caption-text">Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../utilities/gmworkspace.html">The gmworkspace command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/gmconvert.html">Converting data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/matlab.html">Matlab utilities</a></li>
</ul>
<p class="caption"><span class="caption-text">Python Scripting</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../scripting/index.html">Data structures</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripting/data-structures.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/data-structures/station-trace.html">StationTrace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/data-structures/station-stream.html">StationStream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/data-structures/stream-collection.html">StreamCollection</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/scripting.html">Writing Python scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/waveform-metrics.html">Waveform metrics</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../developer/code-layout.html">Code layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/readers.html">Adding new data readers</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="gmprocess.html">API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="gmprocess.core.html">gmprocess.core</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.core.stationstream.html">gmprocess.core.stationstream</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.core.stationtrace.html">gmprocess.core.stationtrace</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.core.streamcollection.html">gmprocess.core.streamcollection</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="gmprocess.io.html">gmprocess.io</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.catalog.html">gmprocess.io.catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.fetcher.html">gmprocess.io.fetcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.global_fetcher.html">gmprocess.io.global_fetcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.nga.html">gmprocess.io.nga</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.read.html">gmprocess.io.read</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.read_directory.html">gmprocess.io.read_directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.report.html">gmprocess.io.report</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.seedname.html">gmprocess.io.seedname</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.stream.html">gmprocess.io.stream</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.io.utils.html">gmprocess.io.utils</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="gmprocess.utils.html">gmprocess.utils</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.utils.args.html">gmprocess.utils.args</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.utils.config.html">gmprocess.utils.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.utils.event.html">gmprocess.utils.event</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.utils.exception.html">gmprocess.utils.exception</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.utils.logging.html">gmprocess.utils.logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.utils.models.html">gmprocess.utils.models</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.utils.plot.html">gmprocess.utils.plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.utils.tables.html">gmprocess.utils.tables</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="gmprocess.waveform_processing.html">gmprocess.waveform_processing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.adjust_highpass.html">gmprocess.waveform_processing.adjust_highpass</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.corner_frequencies.html">gmprocess.waveform_processing.corner_frequencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.fft.html">gmprocess.waveform_processing.fft</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.filtering.html">gmprocess.waveform_processing.filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.nn_quality_assurance.html">gmprocess.waveform_processing.nn_quality_assurance</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.phase.html">gmprocess.waveform_processing.phase</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.pretesting.html">gmprocess.waveform_processing.pretesting</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">gmprocess.waveform_processing.processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.snr.html">gmprocess.waveform_processing.snr</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.spectrum.html">gmprocess.waveform_processing.spectrum</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.windows.html">gmprocess.waveform_processing.windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmprocess.waveform_processing.zero_crossings.html">gmprocess.waveform_processing.zero_crossings</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="module-gmprocess.waveform_processing.processing">
<span id="gmprocess-waveform-processing-processing"></span><h1>gmprocess.waveform_processing.processing<a class="headerlink" href="#module-gmprocess.waveform_processing.processing" title="Permalink to this headline">¶</a></h1>
<p>Processing methods.</p>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.detrend">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">detrend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">st</span></em>, <em class="sig-param"><span class="n">detrending_method</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#detrend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.detrend" title="Permalink to this definition">¶</a></dt>
<dd><p>Detrend stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream"><em>StationStream</em></a>) – Stream of data.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Method to detrend; valid options include the ‘type’
options supported by obspy.core.trace.Trace.detrend as well as
‘baseline_sixth_order’, which is for a baseline correction method
that fits a sixth-order polynomial to the displacement time series,
and sets the zeroth- and first-order terms to be zero. The second
derivative of the fit polynomial is then removed from the
acceleration time series.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Detrended stream.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream">StationStream</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.get_corner_frequencies">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">get_corner_frequencies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">st</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'constant'</span></em>, <em class="sig-param"><span class="n">constant</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">snr</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#get_corner_frequencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.get_corner_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Select corner frequencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream"><em>StationStream</em></a>) – Stream of data.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Which method to use; currently allowed “snr” or “constant”.</p></li>
<li><p><strong>constant</strong> (<em>dict</em>) – Dictionary of <cite>constant</cite> method config options.</p></li>
<li><p><strong>snr</strong> (<em>dict</em>) – Dictionary of <cite>snr</cite> method config options.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Stream with selected corner frequencies added.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>strea</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.lowpass_max_frequency">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">lowpass_max_frequency</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">st</span></em>, <em class="sig-param"><span class="n">fn_fac</span><span class="o">=</span><span class="default_value">0.9</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#lowpass_max_frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.lowpass_max_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Cap lowpass corner as a fraction of the Nyquist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream"><em>StationStream</em></a>) – Stream of data.</p></li>
<li><p><strong>fn_fac</strong> (<em>float</em>) – Factor to be multiplied by the Nyquist to cap the lowpass filter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Resampled stream.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream">StationStream</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.max_traces">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">max_traces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">st</span></em>, <em class="sig-param"><span class="n">n_max</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#max_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.max_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Reject a stream if it has more than n_max traces.</p>
<p>The purpose of this is to skip over stations with muliple strong motion
instruments, which can occur with downhole or structural arrays since our
code currently is not able to reliably group by location within an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream"><em>StationStream</em></a>) – Stream of data.</p></li>
<li><p><strong>n_max</strong> (<em>int</em>) – Maximum allowed number of streams; default to 3.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Stream with adjusted failed fields.</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.min_sample_rate">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">min_sample_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">st</span></em>, <em class="sig-param"><span class="n">min_sps</span><span class="o">=</span><span class="default_value">20.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#min_sample_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.min_sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard records if the sample rate doers not exceed minimum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream"><em>StationStream</em></a>) – Stream of data.</p></li>
<li><p><strong>min_sps</strong> (<em>float</em>) – Minimum samples per second.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Stream checked for sample rate criteria.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream">StationStream</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.process_streams">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">process_streams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">streams</span></em>, <em class="sig-param"><span class="n">origin</span></em>, <em class="sig-param"><span class="n">config</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#process_streams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.process_streams" title="Permalink to this definition">¶</a></dt>
<dd><p>Run processing steps from the config file.</p>
<p>This method looks in the ‘processing’ config section and loops over those
steps and hands off the config options to the appropriate prcessing method.
Streams that fail any of the tests are kepth in the StreamCollection but
the parameter ‘passed_checks’ is set to False and subsequent processing
steps are not applied once a check has failed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>streams</strong> (<em>list</em>) – A StreamCollection object.</p></li>
<li><p><strong>origin</strong> (<a class="reference internal" href="gmprocess.utils.event.html#gmprocess.utils.event.ScalarEvent" title="gmprocess.utils.event.ScalarEvent"><em>ScalarEvent</em></a>) – ScalarEvent object.</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – Configuration dictionary (or None). See get_config().</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A StreamCollection object.</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.remove_response">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">remove_response</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">st</span></em>, <em class="sig-param"><span class="n">f1</span></em>, <em class="sig-param"><span class="n">f2</span></em>, <em class="sig-param"><span class="n">f3</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">f4</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">water_level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output</span><span class="o">=</span><span class="default_value">'ACC'</span></em>, <em class="sig-param"><span class="n">inv</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#remove_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.remove_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs instrument response correction. If the response information is
not already attached to the stream, then an inventory object must be
provided. If the instrument is a strong-motion accelerometer, then
tr.remove_sensitivity() will be used. High-gain seismometers will use
tr.remove_response() with the defined pre-filter and water level.</p>
<p>If f3 is Null it will be set to 0.9*fn, if f4 is Null it will be set to fn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream"><em>StationStream</em></a>) – Stream of data.</p></li>
<li><p><strong>f1</strong> (<em>float</em>) – Frequency 1 for pre-filter.</p></li>
<li><p><strong>f2</strong> (<em>float</em>) – Frequency 2 for pre-filter.</p></li>
<li><p><strong>f3</strong> (<em>float</em>) – Frequency 3 for pre-filter.</p></li>
<li><p><strong>f4</strong> (<em>float</em>) – Frequency 4 for pre-filter.</p></li>
<li><p><strong>water_level</strong> (<em>float</em>) – Water level for deconvolution.</p></li>
<li><p><strong>output</strong> (<em>str</em>) – Outuput units. Must be ‘ACC’, ‘VEL’, or ‘DISP’.</p></li>
<li><p><strong>inv</strong> (<em>obspy.core.inventory.inventory</em>) – Obspy inventory object containing response information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instrument-response-corrected stream.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream">StationStream</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.resample">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">resample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">st</span></em>, <em class="sig-param"><span class="n">new_sampling_rate</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">a</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream"><em>StationStream</em></a>) – Stream of data.</p></li>
<li><p><strong>sampling_rate</strong> (<em>float</em>) – New sampling rate, in Hz.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Method for interpolation. Currently only supports ‘lanczos’.</p></li>
<li><p><strong>a</strong> (<em>int</em>) – Width of the Lanczos window, in number of samples.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Resampled stream.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream">StationStream</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="gmprocess.waveform_processing.processing.taper">
<code class="sig-prename descclassname">gmprocess.waveform_processing.processing.</code><code class="sig-name descname">taper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">st</span></em>, <em class="sig-param"><span class="n">type</span><span class="o">=</span><span class="default_value">'hann'</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">side</span><span class="o">=</span><span class="default_value">'both'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gmprocess/waveform_processing/processing.html#taper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gmprocess.waveform_processing.processing.taper" title="Permalink to this definition">¶</a></dt>
<dd><p>Taper streams.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<a class="reference internal" href="gmprocess.core.stationstream.html#gmprocess.core.stationstream.StationStream" title="gmprocess.core.stationstream.StationStream"><em>StationStream</em></a>) – Stream of data.</p></li>
<li><p><strong>type</strong> (<em>str</em>) – Taper type.</p></li>
<li><p><strong>width</strong> (<em>float</em>) – Taper width as percentage of trace length.</p></li>
<li><p><strong>side</strong> (<em>str</em>) – Valid options: “both”, “left”, “right”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tapered streams.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>stream</p>
</dd>
</dl>
</dd></dl>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="gmprocess.waveform_processing.snr.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">gmprocess.waveform_processing.snr</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="gmprocess.waveform_processing.pretesting.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">gmprocess.waveform_processing.pretesting</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2020, USGS
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/apidoc/gmprocess.waveform_processing.processing.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </main>
</div>
  </body>
</html>