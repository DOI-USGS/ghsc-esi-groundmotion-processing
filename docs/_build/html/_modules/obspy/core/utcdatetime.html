<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <meta name="generator" content="sphinx-3.4.3, furo 2020.12.30.beta24"/>
        <title>obspy.core.utcdatetime - gmprocess 1.1.8.dev119+g4d54c69.d20210118 documentation</title>
      <link rel="stylesheet" href="../../../_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="../../../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" href="../../../_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script defer="defer" src="../../../_static/jquery.js"></script>
    <script defer="defer" src="../../../_static/underscore.js"></script>
    <script defer="defer" src="../../../_static/doctools.js"></script>
    <script defer="defer" src="../../../_static/tabs.js"></script>
    <script defer src="../../../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<div class="announcement">
  <aside class="announcement-content">
     
    <a href='https://www.usgs.gov/' style='text-decoration: none'>
        <img id="announcement_left_img" valign="middle" src="https://gmprocess.readthedocs.io/en/latest//_static/usgs.png""></a>
    Ground-Motion Processing Software
    <a href='https://github.com/usgs/groundmotion-processing' style='text-decoration: none'>
        <img id="announcement_right_img" valign="middle"
            src="https://gmprocess.readthedocs.io/en/latest//_static/GitHub-Mark/PNG/GitHub-Mark-Light-120px-plus.png"></a>
 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">gmprocess 1.1.8.dev119+g4d54c69.d20210118 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../../_static/gmprocess_logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contents/overview/index.html">Overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../contents/getting-started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/getting-started/install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/getting-started/initial_setup.html">Initial Setup</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../contents/tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/tutorials/cli.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/tutorials/scripting.html">Python Scripting</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../contents/manual/index.html">Manual</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/manual/data_structures.html">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/manual/workspace.html">Workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/manual/config_file.html">Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/manual/processing.html">Processing Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/manual/utilities.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../contents/developer/index.html">Developer Resources</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/index.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/apps/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.apps</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/apps/gmrecords/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.apps.gmrecords</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/bin/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.bin</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/bin/gmconvert/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.bin.gmconvert</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/bin/gminfo/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.bin.gminfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/bin/gmprocess2/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.bin.gmprocess2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/bin/gmrecords/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.bin.gmrecords</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/bin/gmsetup/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.bin.gmsetup</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/bin/gmworkspace/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.bin.gmworkspace</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/bin/list_metrics/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.bin.list_metrics</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.core</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/core/stationstream/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.core.stationstream</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/core/stationtrace/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.core.stationtrace</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/core/streamcollection/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.core.streamcollection</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/asdf/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.asdf</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/asdf/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.asdf.core</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/asdf/stream_workspace/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.asdf.stream_workspace</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/asdf/utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.asdf.utils</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/bhrc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.bhrc</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label for="toctree-checkbox-11"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/bhrc/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.bhrc.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/cosmos/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.cosmos</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label for="toctree-checkbox-12"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/cosmos/cesmd_fetcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.cosmos.cesmd_fetcher</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/cosmos/cesmd_search/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.cosmos.cesmd_search</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/cosmos/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.cosmos.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/cwb/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.cwb</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label for="toctree-checkbox-13"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/cwb/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.cwb.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/dmg/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.dmg</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label for="toctree-checkbox-14"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/dmg/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.dmg.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/esm/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.esm</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label for="toctree-checkbox-15"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/esm/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.esm.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/geonet/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.geonet</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label for="toctree-checkbox-16"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/geonet/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.geonet.core</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/geonet/geonet_fetcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.geonet.geonet_fetcher</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/knet/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.knet</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label for="toctree-checkbox-17"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/knet/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.knet.core</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/knet/knet_fetcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.knet.knet_fetcher</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/nsmn/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.nsmn</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label for="toctree-checkbox-18"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/nsmn/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.nsmn.core</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/nsmn/turkey_fetcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.nsmn.turkey_fetcher</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/obspy/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.obspy</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label for="toctree-checkbox-19"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/obspy/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.obspy.core</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/obspy/fdsn_fetcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.obspy.fdsn_fetcher</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/renadic/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.renadic</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label for="toctree-checkbox-20"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/renadic/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.renadic.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/smc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.smc</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label for="toctree-checkbox-21"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/smc/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.smc.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/unam/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.unam</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label for="toctree-checkbox-22"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/unam/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.unam.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/io/usc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.usc</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label for="toctree-checkbox-23"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/io/usc/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.usc.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/catalog/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.catalog</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/fetch_utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.fetch_utils</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/fetcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.fetcher</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/global_fetcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.global_fetcher</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/nga/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.nga</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/read/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.read</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/read_directory/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.read_directory</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/report/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.report</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/seedname/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.seedname</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/stream/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.stream</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/test_utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.test_utils</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/io/utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.io.utils</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label for="toctree-checkbox-24"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/combination/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.combination</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label for="toctree-checkbox-25"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/combination/arithmetic_mean/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.combination.arithmetic_mean</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/combination/combination/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.combination.combination</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/combination/geometric_mean/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.combination.geometric_mean</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/combination/greater_of_two_horizontals/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.combination.greater_of_two_horizontals</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/combination/null_combination/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.combination.null_combination</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/combination/quadratic_mean/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.combination.quadratic_mean</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label for="toctree-checkbox-26"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/arithmetic_mean/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.arithmetic_mean</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/channels/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.channels</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/geometric_mean/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.geometric_mean</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/gmrotd/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.gmrotd</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/greater_of_two_horizontals/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.greater_of_two_horizontals</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/imc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.imc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/quadratic_mean/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.quadratic_mean</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/radial_transverse/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.radial_transverse</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imc/rotd/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imc.rotd</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imt/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imt</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label for="toctree-checkbox-27"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imt/arias/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imt.arias</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imt/duration/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imt.duration</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imt/fas/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imt.fas</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imt/imt/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imt.imt</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imt/pga/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imt.pga</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imt/pgv/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imt.pgv</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/imt/sa/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.imt.sa</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/reduction/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.reduction</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label for="toctree-checkbox-28"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/reduction/arias/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.reduction.arias</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/reduction/duration/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.reduction.duration</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/reduction/max/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.reduction.max</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/reduction/null_reduction/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.reduction.null_reduction</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/reduction/percentile/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.reduction.percentile</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/reduction/reduction/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.reduction.reduction</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/reduction/smooth_select/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.reduction.smooth_select</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/rotation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.rotation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label for="toctree-checkbox-29"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/rotation/gmrotd/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.rotation.gmrotd</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/rotation/null_rotation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.rotation.null_rotation</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/rotation/radial_transverse/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.rotation.radial_transverse</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/rotation/rotation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.rotation.rotation</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/rotation/rotd/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.rotation.rotd</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/transform/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.transform</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label for="toctree-checkbox-30"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/transform/differentiate/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.transform.differentiate</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/transform/fft/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.transform.fft</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/transform/integrate/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.transform.integrate</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/transform/null_transform/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.transform.null_transform</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/transform/oscillator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.transform.oscillator</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/transform/transform/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.transform.transform</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/exception/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.exception</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/gather/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.gather</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/metrics_controller/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.metrics_controller</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/metrics/station_summary/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.metrics.station_summary</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label for="toctree-checkbox-31"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/arg_dicts/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.arg_dicts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/assemble/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.assemble</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/base/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.base</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/compute_station_metrics/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.compute_station_metrics</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/compute_waveform_metrics/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.compute_waveform_metrics</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/download/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.download</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/export_failure_tables/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.export_failure_tables</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/export_metric_tables/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.export_metric_tables</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/export_provenance_tables/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.export_provenance_tables</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/export_shakemap/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.export_shakemap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/generate_regression_plot/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.generate_regression_plot</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/generate_report/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.generate_report</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/init/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.init</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/process_waveforms/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.process_waveforms</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/subcommands/projects/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.subcommands.projects</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label for="toctree-checkbox-32"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/args/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/config/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/constants/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.constants</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/event/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.event</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/exception/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.exception</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/logging/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.logging</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/models/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.models</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/plot/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.plot</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/prompt/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.prompt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/utils/tables/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.utils.tables</span></code></a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/><label for="toctree-checkbox-33"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/smoothing/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.smoothing</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/adjust_highpass/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.adjust_highpass</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/corner_frequencies/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.corner_frequencies</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/fft/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.fft</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/filtering/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.filtering</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/nn_quality_assurance/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.nn_quality_assurance</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/phase/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.phase</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/pretesting/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.pretesting</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/processing/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.processing</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/snr/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.snr</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/spectrum/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.spectrum</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/windows/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.windows</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/gmprocess/waveform_processing/zero_crossings/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.waveform_processing.zero_crossings</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/gmprocess/version/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gmprocess.version</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/developer/contributing.html">Contributing Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contents/developer/new_readers.html">Adding New Data Readers</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <h1>Source code for obspy.core.utcdatetime</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">"""</span>
<span class="sd">Module containing a UTC-based datetime class.</span>

<span class="sd">:copyright:</span>
<span class="sd">    The ObsPy Development Team (devs@obspy.org)</span>
<span class="sd">:license:</span>
<span class="sd">    GNU Lesser General Public License, Version 3</span>
<span class="sd">    (https://www.gnu.org/copyleft/lesser.html)</span>
<span class="sd">"""</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="p">(</span><span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span>
                        <span class="n">unicode_literals</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">future.builtins</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA @UnusedWildImport</span>
<span class="kn">from</span> <span class="nn">future.utils</span> <span class="kn">import</span> <span class="n">native_str</span>

<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">calendar</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">obspy.core.compatibility</span> <span class="kn">import</span> <span class="n">py3_round</span>
<span class="kn">from</span> <span class="nn">obspy.core.util.deprecation_helpers</span> <span class="kn">import</span> <span class="n">ObsPyDeprecationWarning</span>

<span class="c1"># Regular expression used in the init function of the UTCDateTime objects which</span>
<span class="c1"># is called a lot. Thus pre-compile it.</span>
<span class="n">_YEAR0REGEX</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^(\d{1,3}[-/,])(.*)$"</span><span class="p">)</span>

<span class="c1"># based on https://www.myintervals.com/blog/2009/05/20/iso-8601, w/ week 53 fix</span>
<span class="n">_ISO8601_REGEX</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">"""</span>
<span class="s2">    ^</span>
<span class="s2">    ([\+-]?\d</span><span class="si">{4}</span><span class="s2">(?!\d</span><span class="si">{2}</span><span class="s2">\b))</span>
<span class="s2">    ((-?)</span>
<span class="s2">     ((0[1-9]|1[0-2])</span>
<span class="s2">      (\3([12]\d|0[1-9]|3[01]))?</span>
<span class="s2">      |W([0-4]\d|5[0-3])(-?[1-7])?</span>
<span class="s2">      |(00[1-9]|0[1-9]\d|[12]\d</span><span class="si">{2}</span><span class="s2">|3([0-5]\d|6[1-6]))</span>
<span class="s2">     )</span>
<span class="s2">     ([T\s]</span>
<span class="s2">      ((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?</span>
<span class="s2">      (\17[0-5]\d([\.,]\d+)?)?</span>
<span class="s2">      ([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?</span>
<span class="s2">     )?</span>
<span class="s2">    )?</span>
<span class="s2">    $</span>
<span class="s2">    """</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">VERBOSE</span><span class="p">)</span>

<span class="n">TIMESTAMP0</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1"># XXX the strftime problem seems to be specific to Python &lt; 3.2</span>
<span class="c1"># XXX so this can be removed after dropping Python 2 support</span>
<span class="n">STRFTIME_MAPPING</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s1">'%Y'</span><span class="p">,</span> <span class="s1">'04d'</span><span class="p">,</span> <span class="s1">'year'</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'%m'</span><span class="p">,</span> <span class="s1">'02d'</span><span class="p">,</span> <span class="s1">'month'</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'</span><span class="si">%d</span><span class="s1">'</span><span class="p">,</span> <span class="s1">'02d'</span><span class="p">,</span> <span class="s1">'day'</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'%H'</span><span class="p">,</span> <span class="s1">'02d'</span><span class="p">,</span> <span class="s1">'hour'</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'%M'</span><span class="p">,</span> <span class="s1">'02d'</span><span class="p">,</span> <span class="s1">'minute'</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'%S'</span><span class="p">,</span> <span class="s1">'02d'</span><span class="p">,</span> <span class="s1">'second'</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'</span><span class="si">%f</span><span class="s1">'</span><span class="p">,</span> <span class="s1">'06d'</span><span class="p">,</span> <span class="s1">'microsecond'</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">'%y'</span><span class="p">,</span> <span class="s1">'02d'</span><span class="p">,</span> <span class="s1">'year'</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">100</span><span class="p">),</span>
    <span class="p">)</span>

<span class="c1"># common attributes</span>
<span class="n">YMDHMS</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'year'</span><span class="p">,</span> <span class="s1">'month'</span><span class="p">,</span> <span class="s1">'day'</span><span class="p">,</span> <span class="s1">'hour'</span><span class="p">,</span> <span class="s1">'minute'</span><span class="p">,</span> <span class="s1">'second'</span><span class="p">)</span>
<span class="n">YJHMS</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'year'</span><span class="p">,</span> <span class="s1">'julday'</span><span class="p">,</span> <span class="s1">'hour'</span><span class="p">,</span> <span class="s1">'minute'</span><span class="p">,</span> <span class="s1">'second'</span><span class="p">)</span>
<span class="n">YMDHMS_FORMAT</span> <span class="o">=</span> <span class="s2">"</span><span class="si">%04d</span><span class="s2">-</span><span class="si">%02d</span><span class="s2">-</span><span class="si">%02d</span><span class="s2">T</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">"</span>


<span class="k">class</span> <span class="nc">UTCDateTime</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A UTC-based datetime object.</span>

<span class="sd">    This datetime class is based on the POSIX time, a system for describing</span>
<span class="sd">    instants in time, defined as the number of seconds elapsed since midnight</span>
<span class="sd">    Coordinated Universal Time (UTC) of Thursday, January 1, 1970. Internally,</span>
<span class="sd">    the POSIX time is represented in nanoseconds as an integer, which allows</span>
<span class="sd">    higher precision than the default Python :class:`datetime.datetime` class.</span>
<span class="sd">    It features the full `ISO8601:2004`_ specification and some additional</span>
<span class="sd">    string patterns during object initialization.</span>

<span class="sd">    :type args: int, float, str, :class:`datetime.datetime`, optional</span>
<span class="sd">    :param args: The creation of a new `UTCDateTime` object depends from the</span>
<span class="sd">        given input parameters. All possible options are summarized in the</span>
<span class="sd">        `Examples`_ section below.</span>
<span class="sd">    :type iso8601: bool or None, optional</span>
<span class="sd">    :param iso8601: Enforce/disable `ISO8601:2004`_ mode. Defaults to ``None``</span>
<span class="sd">        for auto detection. Works only with a string as first input argument.</span>
<span class="sd">    :type strict: bool, optional</span>
<span class="sd">    :param strict: If True, Conform to `ISO8601:2004`_ limits on positional</span>
<span class="sd">        and keyword arguments. If False, allow hour, minute, second, and</span>
<span class="sd">        microsecond values to exceed 23, 59, 59, and 1_000_000 respectively.</span>
<span class="sd">    :type precision: int, optional</span>
<span class="sd">    :param precision: Sets the precision used by the rich comparison operators.</span>
<span class="sd">        Defaults to ``6`` digits after the decimal point. See also `Precision`_</span>
<span class="sd">        section below.</span>

<span class="sd">    .. versionchanged:: 1.1.0</span>
<span class="sd">        UTCDateTime is no longer based on a single floating point value but</span>
<span class="sd">        rather an integer representing nanoseconds elapsed since midnight</span>
<span class="sd">        Coordinated Universal Time (UTC) of Thursday, January 1, 1970.</span>
<span class="sd">        An integer internal representation allows higher precision and more</span>
<span class="sd">        predictable behavior than a float representation.</span>

<span class="sd">    .. rubric:: Supported Operations</span>

<span class="sd">    ``UTCDateTime = UTCDateTime + delta``</span>
<span class="sd">        Adds/removes ``delta`` seconds (given as int or float) to/from the</span>
<span class="sd">        current ``UTCDateTime`` object and returns a new ``UTCDateTime``</span>
<span class="sd">        object.</span>
<span class="sd">        See also: :meth:`~obspy.core.utcdatetime.UTCDateTime.__add__`.</span>

<span class="sd">    ``delta = UTCDateTime - UTCDateTime``</span>
<span class="sd">        Calculates the time difference in seconds between two ``UTCDateTime``</span>
<span class="sd">        objects. The time difference is given as float data type and may also</span>
<span class="sd">        contain a negative number.</span>
<span class="sd">        See also: :meth:`~obspy.core.utcdatetime.UTCDateTime.__sub__`.</span>

<span class="sd">    .. rubric:: _`Examples`</span>

<span class="sd">    (1) Using a timestamp.</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(0)</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 0, 0)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(1240561632)</span>
<span class="sd">        UTCDateTime(2009, 4, 24, 8, 27, 12)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(1240561632.5)</span>
<span class="sd">        UTCDateTime(2009, 4, 24, 8, 27, 12, 500000)</span>

<span class="sd">    (2) Using a `ISO8601:2004`_ string. The detection may be enabled/disabled</span>
<span class="sd">        using the``iso8601`` parameter, the default is to attempt to</span>
<span class="sd">        auto-detect ISO8601 compliant strings.</span>

<span class="sd">        * Calendar date representation.</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009-12-31T12:23:34.5")</span>
<span class="sd">            UTCDateTime(2009, 12, 31, 12, 23, 34, 500000)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("20091231T122334.5")           # compact</span>
<span class="sd">            UTCDateTime(2009, 12, 31, 12, 23, 34, 500000)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009-12-31T12:23:34.5Z")      # w/o time zone</span>
<span class="sd">            UTCDateTime(2009, 12, 31, 12, 23, 34, 500000)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009-12-31T12:23:34+01:15")   # w/ time zone</span>
<span class="sd">            UTCDateTime(2009, 12, 31, 11, 8, 34)</span>

<span class="sd">        * Ordinal date representation.</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009-365T12:23:34.5")</span>
<span class="sd">            UTCDateTime(2009, 12, 31, 12, 23, 34, 500000)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009365T122334.5")            # compact</span>
<span class="sd">            UTCDateTime(2009, 12, 31, 12, 23, 34, 500000)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009001", iso8601=True)       # enforce ISO8601</span>
<span class="sd">            UTCDateTime(2009, 1, 1, 0, 0)</span>

<span class="sd">        * Week date representation.</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009-W53-7T12:23:34.5")</span>
<span class="sd">            UTCDateTime(2010, 1, 3, 12, 23, 34, 500000)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009W537T122334.5")           # compact</span>
<span class="sd">            UTCDateTime(2010, 1, 3, 12, 23, 34, 500000)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime("2009W011", iso8601=True)      # enforce ISO8601</span>
<span class="sd">            UTCDateTime(2008, 12, 29, 0, 0)</span>

<span class="sd">        * Specifying time zones.</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime('2019-09-18T+06')  # time zone is UTC+6</span>
<span class="sd">            UTCDateTime(2019, 9, 17, 18, 0)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime('2019-09-18T02-02')  # time zone is UTC-2</span>
<span class="sd">            UTCDateTime(2019, 9, 18, 4, 0)</span>

<span class="sd">            &gt;&gt;&gt; UTCDateTime('2019-09-18T18:23:10.22-01')  # time zone is UTC-1</span>
<span class="sd">            UTCDateTime(2019, 9, 18, 19, 23, 10, 220000)</span>

<span class="sd">    (3) Using not ISO8601 compatible strings.</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime("1970-01-01 12:23:34")</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 12, 23, 34)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime("1970,01,01,12:23:34")</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 12, 23, 34)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime("1970,001,12:23:34")</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 12, 23, 34)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime("20090701121212")</span>
<span class="sd">        UTCDateTime(2009, 7, 1, 12, 12, 12)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime("19700101")</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 0, 0)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime("20110818_03:00:00")</span>
<span class="sd">        UTCDateTime(2011, 8, 18, 3, 0)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime("1970/01/17 12:23:34")</span>
<span class="sd">        UTCDateTime(1970, 1, 17, 12, 23, 34)</span>

<span class="sd">    (4) Using multiple arguments in the following order: `year, month,</span>
<span class="sd">        day[, hour[, minute[, second[, microsecond]]]`. The year, month and day</span>
<span class="sd">        arguments are required.</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(1970, 1, 1)</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 0, 0)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(1970, 1, 1, 12, 23, 34, 123456)</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 12, 23, 34, 123456)</span>

<span class="sd">    (5) Using the following keyword arguments: `year, month, day, julday, hour,</span>
<span class="sd">        minute, second, microsecond`. Either the combination of year, month and</span>
<span class="sd">        day, or year and Julian day are required. This is the only input mode</span>
<span class="sd">        that supports using hour, minute, or second values above the natural</span>
<span class="sd">        limits of 24, 60, 60, respectively.</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(year=1970, month=1, day=1, minute=15, microsecond=20)</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 0, 15, 0, 20)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(year=2009, julday=234, hour=14, minute=13)</span>
<span class="sd">        UTCDateTime(2009, 8, 22, 14, 13)</span>

<span class="sd">    (6) Using a Python :class:`datetime.datetime` object.</span>

<span class="sd">        &gt;&gt;&gt; dt = datetime.datetime(2009, 5, 24, 8, 28, 12, 5001)</span>
<span class="sd">        &gt;&gt;&gt; UTCDateTime(dt)</span>
<span class="sd">        UTCDateTime(2009, 5, 24, 8, 28, 12, 5001)</span>

<span class="sd">    (7) Using strict=False the limits of hour, minute, and second become more</span>
<span class="sd">        flexible:</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(year=1970, month=1, day=1, hour=48, strict=False)</span>
<span class="sd">        UTCDateTime(1970, 1, 3, 0, 0)</span>

<span class="sd">    .. rubric:: _`Precision`</span>

<span class="sd">    The :class:`UTCDateTime` class works with a default precision of ``6``</span>
<span class="sd">    digits which effects the comparison of date/time values, e.g.:</span>

<span class="sd">    &gt;&gt;&gt; dt = UTCDateTime(0)</span>
<span class="sd">    &gt;&gt;&gt; dt2 = UTCDateTime(0.00001)</span>
<span class="sd">    &gt;&gt;&gt; dt3 = UTCDateTime(0.0000001)</span>
<span class="sd">    &gt;&gt;&gt; print(dt.precision)</span>
<span class="sd">    6</span>
<span class="sd">    &gt;&gt;&gt; dt == dt2  # 5th digit is within current precision</span>
<span class="sd">    False</span>
<span class="sd">    &gt;&gt;&gt; dt == dt3  # 7th digit will be neglected</span>
<span class="sd">    True</span>

<span class="sd">    You may change that behavior either by,</span>

<span class="sd">    (1) using the ``precision`` keyword during object initialization</span>
<span class="sd">        (preferred):</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(0, precision=4)</span>
<span class="sd">        &gt;&gt;&gt; dt2 = UTCDateTime(0.00001, precision=4)</span>
<span class="sd">        &gt;&gt;&gt; print(dt.precision)</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; dt == dt2</span>
<span class="sd">        True</span>

<span class="sd">    (2) or by setting the class attribute ``DEFAULT_PRECISION`` to the desired</span>
<span class="sd">        precision to affect all new :class:`UTCDateTime` objects</span>
<span class="sd">        (not recommended):</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime.DEFAULT_PRECISION = 4</span>
<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(0)</span>
<span class="sd">        &gt;&gt;&gt; dt2 = UTCDateTime(0.00001)</span>
<span class="sd">        &gt;&gt;&gt; print(dt.precision)</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; dt == dt2</span>
<span class="sd">        True</span>

<span class="sd">        Don't forget to reset ``DEFAULT_PRECISION`` if not needed anymore!</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime.DEFAULT_PRECISION = 6</span>

<span class="sd">    .. _ISO8601:2004: https://en.wikipedia.org/wiki/ISO_8601</span>
<span class="sd">    """</span>
    <span class="n">DEFAULT_PRECISION</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">_initialized</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_has_warned</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># this is a temporary, it will be removed soon</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Creates a new UTCDateTime object.</span>
<span class="sd">        """</span>
        <span class="c1"># set default precision</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">'precision'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">DEFAULT_PRECISION</span><span class="p">)</span>
        <span class="c1"># set directly to nanoseconds if given</span>
        <span class="n">ns</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">'ns'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">strict</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">'strict'</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">=</span> <span class="n">ns</span>
            <span class="k">return</span>
        <span class="c1"># iso8601 flag</span>
        <span class="n">iso8601</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">'iso8601'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="c1"># check parameter</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># use current date/time if no argument is given</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_from_timestamp</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UTCDateTime</span><span class="p">):</span>
                <span class="c1"># ugly workaround to be able to unpickle UTCDateTime objects</span>
                <span class="c1"># that were pickled on ObsPy &lt;1.1</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">_ns</span>
                <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                    <span class="c1"># work around floating point accuracy/rounding issue on</span>
                    <span class="c1"># Py3.3, see</span>
                    <span class="c1"># https://travis-ci.org/obspy/obspy/jobs/208941376#L751</span>
                    <span class="c1"># timestamp is 1251073203.0399999618 so when converting to</span>
                    <span class="c1"># integer nanosecond based UTCDateTime this should be</span>
                    <span class="c1"># rounded to 1251073203040000 nanoseconds.. but on Py3.3 it</span>
                    <span class="c1"># ends up as 1251073203039999, so we manually set</span>
                    <span class="c1"># microseconds with correct rounding without artifacts from</span>
                    <span class="c1"># floating point precision. see #1664</span>
                    <span class="n">timestamp_seconds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">'timestamp'</span><span class="p">])</span>
                    <span class="n">timestamp_microseconds</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span>
                        <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">'timestamp'</span><span class="p">]</span> <span class="o">%</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e6</span><span class="p">)</span>
                    <span class="n">dt_</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">timestamp_seconds</span><span class="p">)</span>
                    <span class="n">dt_</span> <span class="o">=</span> <span class="n">dt_</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">microsecond</span><span class="o">=</span><span class="n">timestamp_microseconds</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_from_datetime</span><span class="p">(</span><span class="n">dt_</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="c1"># check types</span>
            <span class="c1"># The string instance check is mainly needed to not convert</span>
            <span class="c1"># numpy strings as these can be converted to floats on</span>
            <span class="c1"># numpy &gt;= 1.14.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># got a timestamp</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_from_timestamp</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="fm">__float__</span><span class="p">())</span>
                    <span class="k">return</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">):</span>
                <span class="c1"># got a Python datetime.datetime object</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_from_datetime</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">):</span>
                <span class="c1"># got a Python datetime.date object</span>
                <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_from_datetime</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">native_str</span><span class="p">)):</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
                <span class="c1"># got a string instance</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

                <span class="c1"># Raising in the case where the leading string is less than 4</span>
                <span class="c1"># chars; linked to #2167</span>
                <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">_YEAR0REGEX</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s2">"'</span><span class="si">%s</span><span class="s2">' does not start with a 4 digit year"</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>

                <span class="c1"># check for ISO8601 date string</span>
                <span class="k">if</span> <span class="n">iso8601</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">or</span> <span class="p">(</span><span class="n">iso8601</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span>
                                       <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">_ISO8601_REGEX</span><span class="p">,</span> <span class="n">value</span><span class="p">)):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_from_iso8601_string</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                        <span class="k">return</span>
                    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                        <span class="c1"># raise here if iso8601 is enforced otherwise fallback</span>
                        <span class="c1"># to non iso8601 detection by continuing below</span>
                        <span class="k">if</span> <span class="n">iso8601</span><span class="p">:</span>
                            <span class="k">raise</span>

                <span class="c1"># try to apply some standard patterns</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'T'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'_'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'-'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">':'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'Z'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'W'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">)</span>
                <span class="c1"># check for ordinal date (julian date)</span>
                <span class="n">parts</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span>
                <span class="c1"># check for patterns</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">7</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="c1"># looks like an compact ordinal date string</span>
                    <span class="n">pattern</span> <span class="o">=</span> <span class="s2">"%Y%j"</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mi">3</span> <span class="ow">and</span> \
                        <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="c1"># looks like an ordinal date string</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="n">pattern</span> <span class="o">=</span> <span class="s2">"%Y%j%H%M%S"</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">pattern</span> <span class="o">=</span> <span class="s2">"%Y%j"</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># some parts should have 2 digits</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">),</span> <span class="mi">6</span><span class="p">)):</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="n">parts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'0'</span> <span class="o">+</span> <span class="n">parts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
                    <span class="c1"># fill missing elements with zeros</span>
                    <span class="n">value</span> <span class="o">+=</span> <span class="s1">'0'</span> <span class="o">*</span> <span class="p">(</span><span class="mi">14</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
                    <span class="n">pattern</span> <span class="o">=</span> <span class="s2">"%Y%m</span><span class="si">%d</span><span class="s2">%H%M%S"</span>
                <span class="n">ms</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="s1">'.'</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                    <span class="n">parts</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">ms</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'.'</span> <span class="o">+</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
                    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                        <span class="k">pass</span>
                <span class="c1"># all parts should be digits now - here we filter unknown</span>
                <span class="c1"># patterns and pass it directly to Python's  datetime.datetime</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_from_datetime</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
                    <span class="k">return</span>
                <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span>
                <span class="n">dt</span> <span class="o">+=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">ms</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_from_datetime</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
                <span class="k">return</span>
        <span class="c1"># check for ordinal/julian date kwargs</span>
        <span class="k">if</span> <span class="s1">'julday'</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">'julday'</span><span class="p">])</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">"Failed to convert 'julday' to int: </span><span class="si">{!s}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">kwargs</span><span class="p">[</span><span class="s1">'julday'</span><span class="p">])</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">'year'</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="c1"># year given as kwargs</span>
                <span class="n">year</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">'year'</span><span class="p">]</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># year is first (and only) argument</span>
                <span class="n">year</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">days_in_year</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">isleap</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="ow">and</span> <span class="mi">366</span> <span class="ow">or</span> <span class="mi">365</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">'julday'</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="n">days_in_year</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">"'julday' out of bounds for year </span><span class="si">{!s}</span><span class="s2">: </span><span class="si">{!s}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">year</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">'julday'</span><span class="p">])</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="s2">"</span><span class="si">%4d%03d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">),</span>
                                    <span class="nb">int</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">'julday'</span><span class="p">]))</span>
                <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="s1">'%Y%j'</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s1">'month'</span><span class="p">]</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">month</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s1">'day'</span><span class="p">]</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">day</span>
                <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">'julday'</span><span class="p">)</span>

        <span class="c1"># check if seconds are given as float value</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="nb">float</span><span class="p">):</span>
            <span class="n">_frac</span><span class="p">,</span> <span class="n">_sec</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">modf</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">6</span><span class="p">))</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">'second'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">_sec</span><span class="p">)</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">'microsecond'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">_frac</span> <span class="o">*</span> <span class="mf">1e6</span><span class="p">))</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>

        <span class="k">try</span><span class="p">:</span>  <span class="c1"># If a value Error is raised try to allow overflow (see #2222)</span>
            <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">strict</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_handle_overflow</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_from_datetime</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_overflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                         <span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Handles setting date if an overflow of usual value limits is detected.</span>
<span class="sd">        """</span>
        <span class="c1"># Keep track of seconds due to hour, minute, second</span>
        <span class="n">seconds</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">seconds</span> <span class="o">+=</span> <span class="n">hour</span> <span class="o">*</span> <span class="mi">3600</span>
        <span class="n">seconds</span> <span class="o">+=</span> <span class="n">minute</span> <span class="o">*</span> <span class="mi">60</span>
        <span class="n">seconds</span> <span class="o">+=</span> <span class="n">second</span>
        <span class="c1"># Init UTCDateTime based on year, month, day, add seconds</span>
        <span class="n">utc_base</span> <span class="o">=</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">day</span><span class="p">)</span>
        <span class="c1"># Add seconds and set nanoseconds on self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">=</span> <span class="p">(</span><span class="n">utc_base</span> <span class="o">+</span> <span class="n">seconds</span> <span class="o">+</span> <span class="n">microsecond</span> <span class="o">/</span> <span class="mi">1000000</span><span class="p">)</span><span class="o">.</span><span class="n">ns</span>

    <span class="k">def</span> <span class="nf">_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets current timestamp using kwargs.</span>
<span class="sd">        """</span>
        <span class="n">year</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'year'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>
        <span class="n">month</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'month'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>
        <span class="n">day</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'day'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
        <span class="n">hour</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'hour'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>
        <span class="n">minute</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'minute'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span>
        <span class="n">second</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'second'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
        <span class="n">microsecond</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'microsecond'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span><span class="p">)</span>
        <span class="n">julday</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'julday'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">julday</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">=</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">year</span><span class="p">,</span> <span class="n">julday</span><span class="o">=</span><span class="n">julday</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="n">hour</span><span class="p">,</span>
                                   <span class="n">minute</span><span class="o">=</span><span class="n">minute</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="n">second</span><span class="p">,</span>
                                   <span class="n">microsecond</span><span class="o">=</span><span class="n">microsecond</span><span class="p">)</span><span class="o">.</span><span class="n">_ns</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">=</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">,</span>
                                   <span class="n">second</span><span class="p">,</span> <span class="n">microsecond</span><span class="p">)</span><span class="o">.</span><span class="n">_ns</span>

    <span class="k">def</span> <span class="nf">_get_ns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns POSIX timestamp as integer nanoseconds.</span>

<span class="sd">        This is the internal representation of UTCDateTime objects.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :returns: POSIX timestamp as integer nanoseconds</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ns</span>

    <span class="k">def</span> <span class="nf">_set_ns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Set UTCDateTime object from POSIX timestamp as integer nanoseconds.</span>

<span class="sd">        :type value: int</span>
<span class="sd">        :param value: POSIX timestamp as integer nanoseconds</span>
<span class="sd">        """</span>
        <span class="c1"># allow setting numpy integer types..</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">integer</span><span class="p">):</span>
            <span class="n">value_</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="c1"># ..and be paranoid and check that it's still the same value after</span>
            <span class="c1"># type casting</span>
            <span class="k">if</span> <span class="n">value_</span> <span class="o">!=</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'Numpy integer value (</span><span class="si">{!s}</span><span class="s1">) changed during casting to '</span>
                       <span class="s1">'Python builtin integer (</span><span class="si">{!s}</span><span class="s1">).'</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">value_</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value_</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">'nanoseconds must be set as int/long type'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ns</span> <span class="o">=</span> <span class="n">value</span>
        <span class="c1"># flag that this instance has been initialized; any changes will warn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">_ns</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_ns</span><span class="p">,</span> <span class="n">_set_ns</span><span class="p">)</span>
    <span class="n">ns</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_ns</span><span class="p">,</span> <span class="n">_set_ns</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_from_datetime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Use Python datetime object to set current time.</span>

<span class="sd">        :type dt: :class:`datetime.datetime`</span>
<span class="sd">        :param dt: Python datetime object.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">=</span> <span class="n">_datetime_to_ns</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_from_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Use given timestamp to set current time.</span>

<span class="sd">        :type value: int, float</span>
<span class="sd">        :param value: Timestamp in seconds.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_from_iso8601_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Parses an ISO8601:2004 date time string.</span>
<span class="sd">        """</span>
        <span class="c1"># remove trailing 'Z'</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'Z'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
        <span class="c1"># split between date and time</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"T"</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">date</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">time</span> <span class="o">=</span> <span class="s2">""</span>
        <span class="c1"># remove all hyphens in date</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'-'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
        <span class="c1"># remove colons in time</span>
        <span class="n">time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">':'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
        <span class="c1"># guess date pattern</span>
        <span class="n">length_date</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">date</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">'W'</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">length_date</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="c1"># we got a week date: YYYYWwwD</span>
            <span class="c1"># remove week indicator 'W'</span>
            <span class="n">date</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'W'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
            <span class="n">date_pattern</span> <span class="o">=</span> <span class="s2">"%Y%W%w"</span>
            <span class="n">year</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
            <span class="c1"># [Www] is the week number prefixed by the letter 'W', from W01</span>
            <span class="c1"># through W53.</span>
            <span class="c1"># strpftime %W == Week number of the year (Monday as the first day</span>
            <span class="c1"># of the week) as a decimal number [00,53]. All days in a new year</span>
            <span class="c1"># preceding the first Monday are considered to be in week 0.</span>
            <span class="n">week</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="c1"># [D] is the weekday number, from 1 through 7, beginning with</span>
            <span class="c1"># Monday and ending with Sunday.</span>
            <span class="c1"># strpftime %w == Weekday as a decimal number [0(Sunday),6]</span>
            <span class="n">day</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">day</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
                <span class="n">day</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">date</span> <span class="o">=</span> <span class="s2">"</span><span class="si">%04d%02d%1d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">length_date</span> <span class="o">==</span> <span class="mi">7</span> <span class="ow">and</span> <span class="n">date</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">'-'</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="c1"># we got a ordinal date: YYYYDDD</span>
            <span class="n">date_pattern</span> <span class="o">=</span> <span class="s2">"%Y%j"</span>
        <span class="k">elif</span> <span class="n">length_date</span> <span class="o">==</span> <span class="mi">8</span> <span class="ow">and</span> <span class="n">date</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="c1"># we got a calendar date: YYYYMMDD</span>
            <span class="n">date_pattern</span> <span class="o">=</span> <span class="s2">"%Y%m</span><span class="si">%d</span><span class="s2">"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Wrong or incomplete ISO8601:2004 date format"</span><span class="p">)</span>
        <span class="c1"># check for time zone information</span>
        <span class="c1"># note that the zone designator is the actual offset from UTC and</span>
        <span class="c1"># does not include any information on daylight saving time</span>
        <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">'+'</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="s1">'+'</span> <span class="ow">in</span> <span class="n">time</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">:]:</span>
            <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">tz</span><span class="p">)</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">'+'</span><span class="p">)</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">elif</span> <span class="n">time</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">'-'</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="s1">'-'</span> <span class="ow">in</span> <span class="n">time</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">:]:</span>
            <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">tz</span><span class="p">)</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">'-'</span><span class="p">)</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">delta</span><span class="p">:</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">tz</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">tz</span> <span class="o">+=</span> <span class="s1">'0'</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">delta</span> <span class="o">*</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">tz</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">tz</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
        <span class="c1"># split microseconds</span>
        <span class="n">ms</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="s1">'.'</span> <span class="ow">in</span> <span class="n">time</span><span class="p">:</span>
            <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">ms</span><span class="p">)</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">)</span>
            <span class="n">ms</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'0.'</span> <span class="o">+</span> <span class="n">ms</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="c1"># guess time pattern</span>
        <span class="n">length_time</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">length_time</span> <span class="o">==</span> <span class="mi">6</span> <span class="ow">and</span> <span class="n">time</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="n">time_pattern</span> <span class="o">=</span> <span class="s2">"%H%M%S"</span>
        <span class="k">elif</span> <span class="n">length_time</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">and</span> <span class="n">time</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="n">time_pattern</span> <span class="o">=</span> <span class="s2">"%H%M"</span>
        <span class="k">elif</span> <span class="n">length_time</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">time</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="n">time_pattern</span> <span class="o">=</span> <span class="s2">"%H"</span>
        <span class="k">elif</span> <span class="n">length_time</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">time_pattern</span> <span class="o">=</span> <span class="s2">""</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Wrong or incomplete ISO8601:2004 time format"</span><span class="p">)</span>
        <span class="c1"># parse patterns</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date</span> <span class="o">+</span> <span class="s1">'T'</span> <span class="o">+</span> <span class="n">time</span><span class="p">,</span>
                                        <span class="n">date_pattern</span> <span class="o">+</span> <span class="s1">'T'</span> <span class="o">+</span> <span class="n">time_pattern</span><span class="p">)</span>
        <span class="c1"># add microseconds and eventually correct time zone</span>
        <span class="n">dt</span> <span class="o">+=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span> <span class="o">+</span> <span class="n">ms</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_from_datetime</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns UTC timestamp in seconds.</span>

<span class="sd">        :rtype: float</span>
<span class="sd">        :return: Timestamp in seconds.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 123456)</span>
<span class="sd">        &gt;&gt;&gt; dt.timestamp</span>
<span class="sd">        1222864235.123456</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">/</span> <span class="mf">1e9</span>

    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_timestamp</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns UTC timestamp in seconds.</span>

<span class="sd">        :rtype: float</span>
<span class="sd">        :return: Timestamp in seconds.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 123456)</span>
<span class="sd">        &gt;&gt;&gt; float(dt)</span>
<span class="sd">        1222864235.123456</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span>

    <span class="k">def</span> <span class="nf">_get_datetime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns a Python datetime object.</span>

<span class="sd">        :rtype: :class:`datetime.datetime`</span>
<span class="sd">        :return: Python datetime object.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.datetime</span>
<span class="sd">        datetime.datetime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        """</span>
        <span class="c1"># datetime.utcfromtimestamp will cut off but not round</span>
        <span class="c1"># avoid through adding timedelta - also avoids the year 2038 problem</span>
        <span class="n">rounded_ns</span> <span class="o">=</span> <span class="n">py3_round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ns</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">-</span> <span class="mi">9</span><span class="p">)</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">rounded_ns</span> <span class="o">//</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">,</span>
                                <span class="n">microseconds</span><span class="o">=</span><span class="n">rounded_ns</span> <span class="o">%</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span> <span class="o">//</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">TIMESTAMP0</span> <span class="o">+</span> <span class="n">dt</span>
        <span class="k">except</span> <span class="ne">OverflowError</span><span class="p">:</span>
            <span class="c1"># for very large future / past dates</span>
            <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span>

    <span class="n">datetime</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_datetime</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_date</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns a Python date object..</span>

<span class="sd">        :rtype: :class:`datetime.date`</span>
<span class="sd">        :return: Python date object.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.date</span>
<span class="sd">        datetime.date(2008, 10, 1)</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>

    <span class="n">date</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_date</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_year</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns year of the current UTCDateTime object.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns year as an integer.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2012, 2, 11)</span>
<span class="sd">        &gt;&gt;&gt; dt.year</span>
<span class="sd">        2012</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">year</span>

    <span class="k">def</span> <span class="nf">_set_year</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets year of current UTCDateTime object.</span>

<span class="sd">        :param value: Year</span>
<span class="sd">        :type value: int</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="n">year</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_year</span><span class="p">,</span> <span class="n">_set_year</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_month</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns month as an integer (January is 1, December is 12).</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns month as an integer, where January is 1 and December</span>
<span class="sd">            is 12.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2012, 2, 11)</span>
<span class="sd">        &gt;&gt;&gt; dt.month</span>
<span class="sd">        2</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">month</span>

    <span class="k">def</span> <span class="nf">_set_month</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets month of current UTCDateTime object.</span>

<span class="sd">        :param value: Month</span>
<span class="sd">        :type value: int</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">(</span><span class="n">month</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="n">month</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_month</span><span class="p">,</span> <span class="n">_set_month</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_day</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns day as an integer.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns day as an integer.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2012, 2, 11)</span>
<span class="sd">        &gt;&gt;&gt; dt.day</span>
<span class="sd">        11</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">day</span>

    <span class="k">def</span> <span class="nf">_set_day</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets day of current UTCDateTime object.</span>

<span class="sd">        :param value: Day</span>
<span class="sd">        :type value: int</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="n">day</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_day</span><span class="p">,</span> <span class="n">_set_day</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_weekday</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return the day of the week as an integer (Monday is 0, Sunday is 6).</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns day of the week as an integer, where Monday is 0 and</span>
<span class="sd">            Sunday is 6.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.weekday</span>
<span class="sd">        2</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>

    <span class="n">weekday</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_weekday</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns a Python time object.</span>

<span class="sd">        :rtype: :class:`datetime.time`</span>
<span class="sd">        :return: Python time object.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.time</span>
<span class="sd">        datetime.time(12, 30, 35, 45020)</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="n">time</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_time</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_hour</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns hour as an integer.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns hour as an integer.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2012, 2, 11, 10, 11, 12)</span>
<span class="sd">        &gt;&gt;&gt; dt.hour</span>
<span class="sd">        10</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">hour</span>

    <span class="k">def</span> <span class="nf">_set_hour</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets hours of current UTCDateTime object.</span>

<span class="sd">        :param value: Hours</span>
<span class="sd">        :type value: int</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="n">hour</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_hour</span><span class="p">,</span> <span class="n">_set_hour</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_minute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns minute as an integer.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns minute as an integer.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2012, 2, 11, 10, 11, 12)</span>
<span class="sd">        &gt;&gt;&gt; dt.minute</span>
<span class="sd">        11</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">minute</span>

    <span class="k">def</span> <span class="nf">_set_minute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets minutes of current UTCDateTime object.</span>

<span class="sd">        :param value: Minutes</span>
<span class="sd">        :type value: int</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">(</span><span class="n">minute</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="n">minute</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_minute</span><span class="p">,</span> <span class="n">_set_minute</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_second</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns seconds as an integer.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns seconds as an integer.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2012, 2, 11, 10, 11, 12)</span>
<span class="sd">        &gt;&gt;&gt; dt.second</span>
<span class="sd">        12</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">second</span>

    <span class="k">def</span> <span class="nf">_set_second</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets seconds of current UTCDateTime object.</span>

<span class="sd">        :param value: Seconds</span>
<span class="sd">        :type value: int</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">(</span><span class="n">second</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="n">second</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_second</span><span class="p">,</span> <span class="n">_set_second</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_microsecond</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns microseconds as an integer.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns microseconds as an integer.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2012, 2, 11, 10, 11, 12, 345234)</span>
<span class="sd">        &gt;&gt;&gt; dt.microsecond</span>
<span class="sd">        345234</span>
<span class="sd">        """</span>
        <span class="n">ms</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">py3_round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">%</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">-</span> <span class="mi">9</span><span class="p">)</span> <span class="o">//</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ms</span> <span class="o">%</span> <span class="mi">1000000</span>

    <span class="k">def</span> <span class="nf">_set_microsecond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets microseconds of current UTCDateTime object.</span>

<span class="sd">        :param value: Microseconds</span>
<span class="sd">        :type value: int</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">(</span><span class="n">microsecond</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="n">microsecond</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_microsecond</span><span class="p">,</span> <span class="n">_set_microsecond</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_julday</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns Julian day as an integer.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Julian day as an integer.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.julday</span>
<span class="sd">        275</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">utctimetuple</span><span class="p">()</span><span class="o">.</span><span class="n">tm_yday</span>

    <span class="k">def</span> <span class="nf">_set_julday</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets Julian day of current UTCDateTime object.</span>

<span class="sd">        :param value: Julian day</span>
<span class="sd">        :type value: int</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">(</span><span class="n">julday</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="n">julday</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_julday</span><span class="p">,</span> <span class="n">_set_julday</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">timetuple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return a time.struct_time such as returned by time.localtime().</span>

<span class="sd">        :rtype: time.struct_time</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">timetuple</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">utctimetuple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return a time.struct_time of current UTCDateTime object.</span>

<span class="sd">        :rtype: time.struct_time</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utctimetuple</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Adds seconds and microseconds to current UTCDateTime object.</span>

<span class="sd">        :type value: int, float</span>
<span class="sd">        :param value: Seconds to add</span>
<span class="sd">        :rtype: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :return: New UTCDateTime object.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(1970, 1, 1, 0, 0)</span>
<span class="sd">        &gt;&gt;&gt; dt + 2</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 0, 0, 2)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(1970, 1, 1, 0, 0) + 1.123456</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 0, 0, 1, 123456)</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">):</span>
            <span class="c1"># see datetime.timedelta.total_seconds</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">microseconds</span> <span class="o">+</span> <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">seconds</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">days</span> <span class="o">*</span>
                     <span class="mi">86400</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e6</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UTCDateTime</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"unsupported operand type(s) for +: 'UTCDateTime' and "</span>
                   <span class="s2">"'UTCDateTime'"</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">ns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="mf">1e9</span><span class="p">)))</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Subtracts seconds and microseconds from current UTCDateTime object.</span>

<span class="sd">        :type value: int, float or :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param value: Seconds or UTCDateTime object to subtract. Subtracting an</span>
<span class="sd">            UTCDateTime objects results into a relative time span in seconds.</span>
<span class="sd">        :rtype: :class:`~obspy.core.utcdatetime.UTCDateTime` or float</span>
<span class="sd">        :return: New UTCDateTime object or relative time span in seconds.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(1970, 1, 2, 0, 0)</span>
<span class="sd">        &gt;&gt;&gt; dt - 2</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 23, 59, 58)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(1970, 1, 2, 0, 0) - 1.123456</span>
<span class="sd">        UTCDateTime(1970, 1, 1, 23, 59, 58, 876544)</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(1970, 1, 2, 0, 0) - UTCDateTime(1970, 1, 1, 0, 0)</span>
<span class="sd">        86400.0</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UTCDateTime</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">round</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">-</span> <span class="n">value</span><span class="o">.</span><span class="n">_ns</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e9</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__precision</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">):</span>
            <span class="c1"># see datetime.timedelta.total_seconds</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">microseconds</span> <span class="o">+</span> <span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">seconds</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">days</span> <span class="o">*</span>
                     <span class="mi">86400</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e6</span>
        <span class="k">return</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">ns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ns</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="n">value</span> <span class="o">*</span> <span class="mf">1e9</span><span class="p">))))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns ISO8601 string representation from current UTCDateTime object.</span>

<span class="sd">        :return: string</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; str(dt)</span>
<span class="sd">        '2008-10-01T12:30:35.045020Z'</span>
<span class="sd">        """</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span>
        <span class="n">time_str</span> <span class="o">=</span> <span class="n">YMDHMS_FORMAT</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">YMDHMS</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ns</span> <span class="o">=</span> <span class="n">py3_round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ns</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">-</span> <span class="mi">9</span><span class="p">)</span>
            <span class="n">ns_str</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'</span><span class="si">%09d</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">ns</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">**</span> <span class="mi">9</span><span class="p">))[:</span><span class="bp">self</span><span class="o">.</span><span class="n">precision</span><span class="p">]</span>
            <span class="n">time_str</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">'.'</span> <span class="o">+</span> <span class="n">ns_str</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">time_str</span> <span class="o">+</span> <span class="s1">'Z'</span>

    <span class="k">def</span> <span class="nf">_repr_pretty_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">cycle</span><span class="p">):</span>  <span class="c1"># @UnusedVariable</span>
        <span class="n">p</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns ISO8601 unicode representation from current UTCDateTime object.</span>

<span class="sd">        :return: string</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.__unicode__()</span>
<span class="sd">        '2008-10-01T12:30:35.045020Z'</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_operate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">op_func</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">UTCDateTime</span><span class="p">):</span>
            <span class="n">ndigits</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">precision</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">precision</span><span class="p">)</span> <span class="o">-</span> <span class="mi">9</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">precision</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'Comparing UTCDateTime objects of different precision'</span>
                       <span class="s1">' is not defined will raise an Exception in a future'</span>
                       <span class="s1">' version of obspy'</span><span class="p">)</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">ObsPyDeprecationWarning</span><span class="p">)</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">py3_round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ns</span><span class="p">,</span> <span class="n">ndigits</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">py3_round</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_ns</span><span class="p">,</span> <span class="n">ndigits</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">op_func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operate</span><span class="p">(</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="n">other</span><span class="p">),</span> <span class="n">op_func</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Rich comparison operator '=='.</span>

<span class="sd">        .. rubric: Example</span>

<span class="sd">        Comparing two UTCDateTime objects will compare the nanoseconds integers</span>
<span class="sd">        rounded to a number of significant digits determined by the precision</span>
<span class="sd">        attribute.</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000012)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000099)</span>
<span class="sd">        &gt;&gt;&gt; t1 == t2</span>
<span class="sd">        True</span>

<span class="sd">        Defining a higher precision changes the behavior of the operator</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000012, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000099, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t1 == t2</span>
<span class="sd">        False</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operate</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">eq</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Rich comparison operator '!='.</span>

<span class="sd">        .. rubric: Example</span>

<span class="sd">        Comparing two UTCDateTime objects will compare the nanoseconds integers</span>
<span class="sd">        rounded to a number of significant digits determined by the precision</span>
<span class="sd">        attribute.</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000012)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000099)</span>
<span class="sd">        &gt;&gt;&gt; t1 == t2</span>
<span class="sd">        True</span>

<span class="sd">        Defining a higher precision changes the behavior of the operator</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000012, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000099, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t1 == t2</span>
<span class="sd">        False</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Rich comparison operator '&lt;'.</span>

<span class="sd">        .. rubric: Example</span>

<span class="sd">        Comparing two UTCDateTime objects will compare the nanoseconds integers</span>
<span class="sd">        rounded to a number of significant digits determined by the precision</span>
<span class="sd">        attribute.</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000012)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000099)</span>
<span class="sd">        &gt;&gt;&gt; t1 &lt; t2</span>
<span class="sd">        False</span>

<span class="sd">        Defining a higher precision changes the behavior of the operator</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000012, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000099, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t1 &lt; t2</span>
<span class="sd">        True</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operate</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">lt</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Rich comparison operator '&lt;='.</span>

<span class="sd">        .. rubric: Example</span>

<span class="sd">        Comparing two UTCDateTime objects will compare the nanoseconds integers</span>
<span class="sd">        rounded to a number of significant digits determined by the precision</span>
<span class="sd">        attribute.</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000099)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000012)</span>
<span class="sd">        &gt;&gt;&gt; t1 &lt;= t2</span>
<span class="sd">        True</span>

<span class="sd">        Defining a higher precision changes the behavior of the operator</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000099, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000012, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t1 &lt;= t2</span>
<span class="sd">        False</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operate</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">le</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Rich comparison operator '&gt;'.</span>

<span class="sd">        .. rubric: Example</span>

<span class="sd">        Comparing two UTCDateTime objects will compare the nanoseconds integers</span>
<span class="sd">        rounded to a number of significant digits determined by the precision</span>
<span class="sd">        attribute.</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000099)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000012)</span>
<span class="sd">        &gt;&gt;&gt; t1 &gt; t2</span>
<span class="sd">        False</span>

<span class="sd">        Defining a higher precision changes the behavior of the operator</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000099, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000012, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t1 &gt; t2</span>
<span class="sd">        True</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operate</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">gt</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Rich comparison operator '&gt;='.</span>

<span class="sd">        .. rubric: Example</span>

<span class="sd">        Comparing two UTCDateTime objects will compare the nanoseconds integers</span>
<span class="sd">        rounded to a number of significant digits determined by the precision</span>
<span class="sd">        attribute.</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000012)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000099)</span>
<span class="sd">        &gt;&gt;&gt; t1 &gt;= t2</span>
<span class="sd">        True</span>

<span class="sd">        Defining a higher precision changes the behavior of the operator</span>

<span class="sd">        &gt;&gt;&gt; t1 = UTCDateTime(123.000000012, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t2 = UTCDateTime(123.000000099, precision=9)</span>
<span class="sd">        &gt;&gt;&gt; t1 &gt;= t2</span>
<span class="sd">        False</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operate</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">ge</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns a representation of UTCDatetime object.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="s1">'UTCDateTime'</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()[</span><span class="mi">17</span><span class="p">:]</span>

    <span class="k">def</span> <span class="fm">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns absolute timestamp value of the current UTCDateTime object.</span>
<span class="sd">        """</span>
        <span class="c1"># needed for unittest.assertAlmostEqual tests on Linux</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        An object is hashable if it has a hash value which never changes</span>
<span class="sd">        during its lifetime. As an UTCDateTime object may change over time,</span>
<span class="sd">        it's not hashable. Use the :meth:`~UTCDateTime.datetime()` method to</span>
<span class="sd">        generate a :class:`datetime.datetime` object for hashing. But be aware:</span>
<span class="sd">        once the UTCDateTime object changes, the hash is not valid anymore.</span>
<span class="sd">        """</span>
        <span class="c1"># explicitly flag it as unhashable</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># raise a warning if overwriting previous ns (see #2072)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_warned</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'Setting attributes on UTCDateTime instances will raise an'</span>
                   <span class="s1">' Exception in a future version of Obspy.'</span><span class="p">)</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">ObsPyDeprecationWarning</span><span class="p">)</span>
            <span class="c1"># only issue the warning once per object</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">'_has_warned'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">UTCDateTime</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">strftime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">format</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return a string representing the date and time, controlled by an</span>
<span class="sd">        explicit format string.</span>

<span class="sd">        :type format: str</span>
<span class="sd">        :param format: Format string.</span>
<span class="sd">        :return: Formatted string representing the date and time.</span>

<span class="sd">        Format codes referring to hours, minutes or seconds will see 0 values.</span>
<span class="sd">        See methods :meth:`~datetime.datetime.strftime()` and</span>
<span class="sd">        :meth:`~datetime.datetime.strptime()` for more information.</span>
<span class="sd">        """</span>
        <span class="c1"># See https://bugs.python.org/issue32195</span>
        <span class="c1"># This is an attempt to get consistent behavior across platforms.</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"linux"</span><span class="p">):</span>
            <span class="nb">format</span> <span class="o">=</span> <span class="nb">format</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"%Y"</span><span class="p">,</span> <span class="s2">"%04Y"</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span>
        <span class="c1"># this is trying to work around strftime refusing to work with years</span>
        <span class="c1"># &lt;1900</span>
        <span class="c1"># XXX this problem seems to be specific to Python &lt; 3.2</span>
        <span class="c1"># XXX so this can be removed after dropping Python 2 support</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># some other error? just raise it..</span>
            <span class="k">if</span> <span class="s1">'the datetime strftime() methods require year'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
                <span class="k">raise</span>
            <span class="c1"># otherwise, try to do replace all strftime '%' commands with</span>
            <span class="c1"># simple string formatting</span>
            <span class="n">format_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strftime_replacement</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span>
            <span class="c1"># if there's still some strftime commands in there, we have a</span>
            <span class="c1"># problem still ('%%' is a %-sign literal)</span>
            <span class="k">if</span> <span class="s1">'%'</span> <span class="ow">in</span> <span class="n">format_</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'</span><span class="si">%%</span><span class="s1">'</span><span class="p">,</span> <span class="s1">''</span><span class="p">):</span>
                <span class="k">raise</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">format_</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">_strftime_replacement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strftime_string</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Replace all simple, year-independent strftime commands</span>

<span class="sd">        &gt;&gt;&gt; t = UTCDateTime(1813, 10, 30, 12, 34, 56, 789012)</span>
<span class="sd">        &gt;&gt;&gt; print(t._strftime_replacement('"%Y-%m-%dT%H:%M:%S.%f %y"'))</span>
<span class="sd">        "1813-10-30T12:34:56.789012 13"</span>
<span class="sd">        """</span>
        <span class="k">for</span> <span class="n">strftime_key</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">,</span> <span class="n">property_name</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">STRFTIME_MAPPING</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">strftime_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">strftime_string</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">strftime_string</span> <span class="o">=</span> <span class="n">strftime_string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                <span class="n">strftime_key</span><span class="p">,</span> <span class="s1">'{</span><span class="si">%s</span><span class="s1">:</span><span class="si">%s</span><span class="s1">}'</span> <span class="o">%</span> <span class="p">(</span><span class="n">property_name</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">))</span>
            <span class="n">replacement</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">func</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">replacement</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">replacement</span><span class="p">)</span>
            <span class="n">strftime_string</span> <span class="o">=</span> <span class="n">strftime_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="o">**</span><span class="p">{</span><span class="n">property_name</span><span class="p">:</span> <span class="n">replacement</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">strftime_string</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">strptime</span><span class="p">(</span><span class="n">date_string</span><span class="p">,</span> <span class="nb">format</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return a UTCDateTime corresponding to date_string, parsed according to</span>
<span class="sd">        given format.</span>

<span class="sd">        :type date_string: str</span>
<span class="sd">        :param date_string: Date and time string.</span>
<span class="sd">        :type format: str</span>
<span class="sd">        :param format: Format string.</span>
<span class="sd">        :return: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>

<span class="sd">        See methods :meth:`~datetime.datetime.strftime()` and</span>
<span class="sd">        :meth:`~datetime.datetime.strptime()` for more information.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_string</span><span class="p">,</span> <span class="nb">format</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">timetz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return time object with same hour, minute, second, microsecond, and</span>
<span class="sd">        tzinfo attributes. See also method :meth:`datetime.datetime.time()`.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.timetz()</span>
<span class="sd">        datetime.time(12, 30, 35, 45020)</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">timetz</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns None (to stay compatible with :class:`datetime.datetime`)</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.utcoffset()</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcoffset</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns None (to stay compatible with :class:`datetime.datetime`)</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.dst()</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">dst</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">tzname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns None (to stay compatible with :class:`datetime.datetime`)</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.tzname()</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">tzname</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">ctime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return a string representing the date and time.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; UTCDateTime(2002, 12, 4, 20, 30, 40).ctime()</span>
<span class="sd">        'Wed Dec  4 20:30:40 2002'</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">ctime</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">isoweekday</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return the day of the week as an integer (Monday is 1, Sunday is 7).</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        :return: Returns day of the week as an integer, where Monday is 1 and</span>
<span class="sd">            Sunday is 7.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.isoweekday()</span>
<span class="sd">        3</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">isoweekday</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">isocalendar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns a tuple containing (ISO year, ISO week number, ISO weekday).</span>

<span class="sd">        :rtype: tuple of ints</span>
<span class="sd">        :return: Returns a tuple containing ISO year, ISO week number and ISO</span>
<span class="sd">            weekday.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.isocalendar()</span>
<span class="sd">        (2008, 40, 3)</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">isocalendar</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">isoformat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">"T"</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return a string representing the date and time in ISO 8601 format.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        :return: String representing the date and time in ISO 8601 format like</span>
<span class="sd">            YYYY-MM-DDTHH:MM:SS.mmmmmm or, if microsecond is 0,</span>
<span class="sd">            YYYY-MM-DDTHH:MM:SS.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; dt.isoformat()</span>
<span class="sd">        '2008-10-01T12:30:35.045020'</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1)</span>
<span class="sd">        &gt;&gt;&gt; dt.isoformat()</span>
<span class="sd">        '2008-10-01T00:00:00'</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="n">native_str</span><span class="p">(</span><span class="n">sep</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">format_fissures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns string representation for the IRIS Fissures protocol.</span>

<span class="sd">        :return: string</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; print(dt.format_fissures())</span>
<span class="sd">        2008275T123035.0450Z</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="s2">"</span><span class="si">%04d%03d</span><span class="s2">T</span><span class="si">%02d%02d%02d</span><span class="s2">.</span><span class="si">%04d</span><span class="s2">Z"</span> <span class="o">%</span> \
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">julday</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span> <span class="o">//</span> <span class="mi">100</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">format_arclink</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns string representation for the ArcLink protocol.</span>

<span class="sd">        :return: string</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; print(dt.format_arclink())</span>
<span class="sd">        2008,10,1,12,30,35,45020</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="s2">"</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span><span class="p">,</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">,</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">format_seedlink</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns string representation for the SeedLink protocol.</span>

<span class="sd">        :return: string</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35.45020)</span>
<span class="sd">        &gt;&gt;&gt; print(dt.format_seedlink())</span>
<span class="sd">        2008,10,1,12,30,35</span>
<span class="sd">        """</span>
        <span class="c1"># round seconds down to integer</span>
        <span class="n">seconds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">)</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1.0e6</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">"</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">,</span><span class="si">%g</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="n">seconds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">format_seed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns string representation for a SEED volume.</span>

<span class="sd">        :type compact: bool, optional</span>
<span class="sd">        :param compact: Delivers a compact SEED date string if enabled. Default</span>
<span class="sd">            value is set to False.</span>
<span class="sd">        :rtype: string</span>
<span class="sd">        :return: Datetime string in the SEED format.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; print(dt.format_seed())</span>
<span class="sd">        2008,275,12:30:35.0450</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 10, 1, 0, 30, 0, 0)</span>
<span class="sd">        &gt;&gt;&gt; print(dt.format_seed(compact=True))</span>
<span class="sd">        2008,275,00:30</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">compact</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">==</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">"</span><span class="si">%04d</span><span class="s2">,</span><span class="si">%03d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">julday</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">"</span><span class="si">%04d</span><span class="s2">,</span><span class="si">%03d</span><span class="s2">,</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">.</span><span class="si">%04d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">julday</span><span class="p">,</span>
                                                      <span class="bp">self</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span>
                                                      <span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">,</span>
                                                      <span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span> <span class="o">//</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="s2">"</span><span class="si">%04d</span><span class="s2">,</span><span class="si">%03d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">julday</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">==</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">temp</span>
        <span class="n">temp</span> <span class="o">+=</span> <span class="s2">",</span><span class="si">%02d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">temp</span> <span class="o">+</span> <span class="s2">":</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">.</span><span class="si">%04d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span> <span class="o">//</span> <span class="mi">100</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">temp</span> <span class="o">+</span> <span class="s2">":</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">temp</span> <span class="o">+</span> <span class="s2">":</span><span class="si">%02d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">temp</span>

    <span class="k">def</span> <span class="nf">format_iris_web_service</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns string representation usable for the IRIS Web services.</span>

<span class="sd">        :return: string</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2008, 5, 27, 12, 30, 35, 45020)</span>
<span class="sd">        &gt;&gt;&gt; print(dt.format_iris_web_service())</span>
<span class="sd">        2008-05-27T12:30:35.045</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="s2">"</span><span class="si">%04d</span><span class="s2">-</span><span class="si">%02d</span><span class="s2">-</span><span class="si">%02d</span><span class="s2">T</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">.</span><span class="si">%03d</span><span class="s2">"</span> <span class="o">%</span> \
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span> <span class="o">//</span> <span class="mi">1000</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_precision</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns precision of current UTCDateTime object.</span>

<span class="sd">        :return: int</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime()</span>
<span class="sd">        &gt;&gt;&gt; dt.precision</span>
<span class="sd">        6</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__precision</span>

    <span class="k">def</span> <span class="nf">_set_precision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">6</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Set precision of current UTCDateTime object.</span>

<span class="sd">        :type value: int, optional</span>
<span class="sd">        :param value: Precision value used by the rich comparison operators.</span>
<span class="sd">            Defaults to ``6``.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        (1) Default precision</span>

<span class="sd">            &gt;&gt;&gt; dt = UTCDateTime()</span>
<span class="sd">            &gt;&gt;&gt; dt.precision</span>
<span class="sd">            6</span>

<span class="sd">        (2) Set precision during initialization of UTCDateTime object.</span>

<span class="sd">            &gt;&gt;&gt; dt = UTCDateTime(precision=5)</span>
<span class="sd">            &gt;&gt;&gt; dt.precision</span>
<span class="sd">            5</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">9</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">'UTCDateTime precision above 9 is not supported, using 9'</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="mi">9</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__precision</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="n">precision</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_precision</span><span class="p">,</span> <span class="n">_set_precision</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">replace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return a new UTCDateTime object with one or more parameters replaced.</span>

<span class="sd">        Replace is useful for substituting parameters that depend on other</span>
<span class="sd">        parameters (eg hour depends on the current day for meaning). In order</span>
<span class="sd">        to replace independent parameters, such as timestamp, ns, or</span>
<span class="sd">        precision, simply create a new UTCDateTime instance.</span>

<span class="sd">        The following parameters are supported: year, month, day, julday,</span>
<span class="sd">        hour, minute second, microsecond. Additionally, the keyword 'strict'</span>
<span class="sd">        can be set to False to allow hour, minute, and second to exceed normal</span>
<span class="sd">        limits.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        (1) Get time of the 15th day of the same month to which a timestamp</span>
<span class="sd">            belongs.</span>

<span class="sd">            &gt;&gt;&gt; dt = UTCDateTime(999999999)</span>
<span class="sd">            &gt;&gt;&gt; dt2 = dt.replace(day=15)</span>
<span class="sd">            &gt;&gt;&gt; print(dt2)</span>
<span class="sd">            2001-09-15T01:46:39.000000Z</span>


<span class="sd">        (2) Determine the day of the week 2 months before Guy Fawkes day.</span>

<span class="sd">            &gt;&gt;&gt; dt = UTCDateTime('1605-11-05')</span>
<span class="sd">            &gt;&gt;&gt; dt.replace(month=9).weekday</span>
<span class="sd">            0</span>
<span class="sd">        """</span>
        <span class="c1"># check parameters, raise Value error if any are unsupported</span>
        <span class="n">supported_args</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">YMDHMS</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">YJHMS</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="s1">'microsecond'</span><span class="p">,</span> <span class="s1">'strict'</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">supported_args</span><span class="p">):</span>
            <span class="n">unsupported_args</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-</span> <span class="n">supported_args</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'</span><span class="si">%s</span><span class="s1"> are not supported arguments for replace, supported '</span>
                   <span class="s1">'arguments are </span><span class="si">%s</span><span class="s1">'</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">unsupported_args</span><span class="p">,</span> <span class="n">supported_args</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1"># ensure julday is used correctly if used</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'julday'</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">'month'</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">or</span> <span class="s1">'day'</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">'If julday is used month and day cannot be used.'</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">time_paramters</span> <span class="o">=</span> <span class="n">YJHMS</span>  <span class="c1"># use julday</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">time_paramters</span> <span class="o">=</span> <span class="n">YMDHMS</span>  <span class="c1"># use month and day</span>
        <span class="c1"># get a dict of time parameters to pass to UTCDateTime constructor</span>
        <span class="n">new_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">time_paramters</span><span class="p">}</span>
        <span class="n">new_dict</span><span class="p">[</span><span class="s1">'microsecond'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">microsecond</span>
        <span class="n">new_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="o">**</span><span class="n">new_dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">toordinal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Return proleptic Gregorian ordinal. January 1 of year 1 is day 1.</span>

<span class="sd">        See :meth:`datetime.datetime.toordinal()`.</span>

<span class="sd">        :return: int</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; dt = UTCDateTime(2012, 1, 1)</span>
<span class="sd">        &gt;&gt;&gt; dt.toordinal()</span>
<span class="sd">        734503</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">toordinal</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">now</span><span class="p">():</span>
        <span class="sd">"""</span>
<span class="sd">        Returns current UTC datetime.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">UTCDateTime</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">utcnow</span><span class="p">():</span>
        <span class="sd">"""</span>
<span class="sd">        Returns current UTC datetime.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">UTCDateTime</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_hours_after_midnight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Calculate foating point hours after midnight.</span>

<span class="sd">        &gt;&gt;&gt; t = UTCDateTime("2015-09-27T03:16:12.123456Z")</span>
<span class="sd">        &gt;&gt;&gt; t._get_hours_after_midnight()</span>
<span class="sd">        3.270034293333333</span>
<span class="sd">        """</span>
        <span class="n">timedelta</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span> <span class="o">-</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">timedelta</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">/</span> <span class="mf">3600.0</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">matplotlib_date</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Maplotlib date number representation.</span>

<span class="sd">        Useful for plotting on matplotlib time-based axes, like created by e.g.</span>
<span class="sd">        :meth:`obspy.core.stream.Stream.plot()`.</span>

<span class="sd">        &gt;&gt;&gt; t = UTCDateTime("2009-08-24T00:20:07.700000Z")</span>
<span class="sd">        &gt;&gt;&gt; t.matplotlib_date</span>
<span class="sd">        733643.0139780092</span>

<span class="sd">        :rtype: float</span>
<span class="sd">        """</span>
        <span class="kn">from</span> <span class="nn">matplotlib.dates</span> <span class="kn">import</span> <span class="n">date2num</span>
        <span class="k">return</span> <span class="n">date2num</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_datetime_to_ns</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Use Python datetime object to return equivalent nanoseconds.</span>

<span class="sd">    :type dt: :class:`datetime.datetime`</span>
<span class="sd">    :param dt: Python datetime object.</span>
<span class="sd">    :returns: nanoseconds as an int.</span>
<span class="sd">    """</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">td</span> <span class="o">=</span> <span class="p">(</span><span class="n">dt</span> <span class="o">-</span> <span class="n">TIMESTAMP0</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">td</span> <span class="o">=</span> <span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-</span> <span class="n">dt</span><span class="o">.</span><span class="n">utcoffset</span><span class="p">())</span> <span class="o">-</span> <span class="n">TIMESTAMP0</span>
    <span class="c1"># see datetime.timedelta.total_seconds</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">td</span><span class="o">.</span><span class="n">days</span> <span class="o">*</span> <span class="mi">86400</span> <span class="o">+</span> <span class="n">td</span><span class="o">.</span><span class="n">seconds</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span> <span class="o">+</span> <span class="n">td</span><span class="o">.</span><span class="n">microseconds</span> <span class="o">*</span> <span class="mi">1000</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">exclude_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
      </article>
      <footer>
        
        <div class="related-pages">
          
          
        </div>

        <div class="related-information">
              Copyright &#169; Unlicense
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </main>
</div>
  </body>
</html>